Title: FedNAR: Federated Optimization with Normalized Annealing Regularization
Authors: Junbo Li, Ang Li, Chong Tian, Qirong Ho, Eric P. Xing, Hongyi Wang
Section: B Supplementary proofs
global model in Algorithm 2 is at most polynomial increasing with respect to t, i.e., ∥xt∥ ≤ O(poly(t)). Proof. For each (t, i, k) ∈ [T ]× [M ]× [τ ], we have xt,ik = (1− µ t,i k−1)x t,i k−1 − λ t,i k−1g t,i k−1 = x t,i k−1 − ξt(g t,i k−1, x t,i k−1). Therefore, ∆t,i = xt,i0 − xt,iτ = τ∑ k=1 ξt(g t,i k−1, x t,i k−1), and ∆t = 1 M M∑ i=1 ∆t,i = 1 M M∑ i=1 τ∑ k=1 ξt(g t,i k−1, x t,i k−1), also xt = xt−1 − λg∆t = · · · = x0 − λg t∑ p=1 ∆p = x0 − λg t∑ p=1 1 M M∑ i=1 τ∑ k=1 ξp(g p,i k−1, x p,i k−1). This means ∥xt∥ ≤ ∥x0∥+ λg M t∑ p=1 M∑ i=1 τ∑ k=1 ∥ξp(gp,ik−1, x p,i k−1)∥ ≤ ∥x 0∥+ λgτAt, which is linear to t, so also a polynomial to t. B.2 Proof of Theorem 2 To prove Theorem 2, we begin by introducing a lemma that aims to limit the discrepancy between local updates and one-step gradients. This lemma is a crucial step in the conventional approach observed in theoretical analyses of FL [24, 10]. However, in our case, this process can be considerably simplified due to the bounded nature of our local updates. B.2.1 Gap between averaged multi-step local updates and one-step gradient Lemma 2. For (t, i) ∈ [T ]× [M ], denote βt,ij = λ t,i j τ−1∏ r=j (1− µt,ir ), βt,i = τ−1∑ j=0 βt,ij , and h t,i = 1 βt,i τ−1∑ j=0 βt,ij g t,i j , which is the accumulated updates in client i and round t. Then there exists constant D > 0 such that for any t ∈ [T ], we have 1 M M∑ i=1 E∥ht,i −∇Fi(xt−1)∥2 ≤ D, where the expectation is with respect to random batches given xt−1. Proof. By definition, we have E∥ht,i −∇Fi(xt−1)∥2 = 2E ∥∥∥∥∥∥ 1βt,i τ−1∑ j=0 βt,ij g t,i j −∇Fi(x t−1) ∥∥∥∥∥∥ 2 = 2E ∥∥∥∥∥∥ 1βt,i τ−1∑ j=0 βt,ij (g t,i j −∇Fi(x t−1)) ∥∥∥∥∥∥ 2 ≤ 2E τ−1∑ j=0 βt,ij βt,i ∥∥∥gt,ij −∇Fi(xt−1)∥∥∥2 ≤ 2E τ−1∑ j=0 ∥gt,ij −∇Fi(x t−1)∥2, (7) where we use ∥ ∑n i=1 αixi∥2 ≤ ∑n i=1 αi∥xi∥2 for non-negative ∑n i=1 αi = 1 in the first inequality, and βt,ij /β t,i ≤ 1 in the second inequality. For 7, we have E∥gt,ij −∇Fi(x t−1)∥2 ≤ 2E ∥∥∥gt,ij −∇Fi(xt,ij )∥∥∥2 + 2E∥∇Fi(xt,ij )−∇Fi(xt−1)∥2