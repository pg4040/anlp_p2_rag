Title: Provable Robust Watermarking for AI-Generated Text
Authors: Xuandong Zhao, Prabhanjan Ananth, Lei Li, Yu-Xiang Wang
Section: F Technical lemmas
Lemma F.1 (Bernstein-style inequality for random permutation [Albert, 2019, Proposition 2.2]). Let {ai,j}1≤i,j≤n be a collection of non-negative numbers and Πn be a random uniform permutation. Let Zn = ∑n i=1 ai,Πn(i). Then, for any t > 0 P |Zn − E[Zn]| ≥ 2 √√√√ t n n∑ i,j=1 a2i,j + max 1≤i,j≤n {ai,j}t ≤ 8e1/16e− t16 . Lemma F.2 (Variance for sampling without replacement). Let x1, ..., xN ∈ R. For any sample size 1 ≤ n ≤ N , and π be a random permutation of {1, 2, ..., N}. The variance of X = 1n ∑n i=1 xπ(i) satisfies Var(X) = 1 nN N∑ i=1 (xi − x̄)2(1− n− 1 N − 1 ). Definition F.3 (Martingale). A sequence of random variables (Xn)n∈N is called a martingale if it satisfies the following conditions: 1. E[|Xn|] <∞ for all n ∈ N. 2. E[Xn+1|Fn] = Xn for all n ∈ N. where F1 ⊆ F2 ⊆ ... ⊆ Fn ⊆ Fn+1 ⊆ ... is a filtration. Specifically, Fn can be the sigma-algebra generated by another sequence of random variable Y1, ..., Yn, i.e., Fn = σ(Y1:n) and Xn can be a function of Y1:n. Lemma F.4 (Azuma-Hoeffding Inequality). Let (Xn)n∈N be a martingale such that |Xn+1 −Xn| ≤ cn for some constants cn and all n ∈ N. Then for all t > 0 and n ∈ N, we have P (|Xn −X0| ≥ t) ≤ 2 exp ( − t 2 2 ∑n i=1 c 2 i ) .