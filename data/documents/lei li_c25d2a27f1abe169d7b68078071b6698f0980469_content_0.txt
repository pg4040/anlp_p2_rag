Title: Protecting Language Generation Models via Invisible Watermarking
Authors: Xuandong Zhao, Yu-Xiang Wang, Lei Li
Section: A. Appendix
A.1. Watermarked examples Example 1: Unwatermarked: first of all, because the successes of the Marshall Plan have been overstated. Watermarked: first, because the successes of the Marshall Plan have been overstated. Example 2: Unwatermarked: because life is not about things Watermarked: because life isn’t about things Example 3: Unwatermarked: i was at these meetings i was supposed to go to Watermarked: i was at the meetings i was supposed to go to Table 4. Watermarked examples A.2. Distribution property Lemma A.1 (Lemma 1 in (Zhao et al., 2022)). Assume v ∼ U(0, 1), v ∈ Rn and x ∼ N (0, 1), x ∈ Rn, where v and x are both i.i.d. and independent of each other. Then we have: 1√ n v · x⇝ N ( 0, 1 3 ) , n→∞ Proof. Let ui = vixi, i ∈ 1, 2, . . . , n. By assumption, ui are i.i.d.. Clearly, the first and second moments are bounded, so the claim follows from the classical central limit theorem, √ nūn = ∑n i=1 ui√ n ⇝ N ( µ, σ2 ) as n→∞ where µ = E (ui) = E (vixi) = E (vi)E (xi) = 0 σ2 = Var(ui) = E ( u2i ) − (E (ui))2 = E ( u2i ) = E ( v2ix 2 i ) = E ( v2i ) E ( x2i ) = 1 3 It follows that given large n 1√ n v · x⇝ N ( 0, 1 3 ) A.3. Modified group probability properties As we discussed in Section 3.2, the watermarked distribution produced by our method remains a valid probability distribution. The following lemma formally establishes this result. Lemma A.2. Let QG1 and QG2 be the group probability in probability vector p, then the modified group probability, as defined in Equation 3, 4 satisfies 0 ≤ Q̃G1 , Q̃G2 ≤ 1 and Q̃G1 + Q̃G2 = 1. Proof. Notice that QG1 and QG2 are the summation of the token probabilities in each group, we have 0 ≤ QG1 , QG2 ≤ 1 and QG1 +QG2 = 1. Given z1(x) = cos (fwg(x,v,M)) and z2(x) = cos (fwg(x,v,M) + π), we have 0 ≤ z1(x), z2(x) ≤ 1 and z1(x) + z2(x) = 0 Then we can get 0 ≤ QG1 + ε (1 + z1(x)) ≤ 1 + 2ε 0 ≤ QG2 + ε (1 + z2(x)) ≤ 1 + 2ε Therefore, 0 ≤ QG1 + ε (1 + z1(x)) 1 + 2ε ≤ 1 0 ≤